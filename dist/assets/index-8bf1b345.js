import{d as v,i as x,r as y,a as d,h,c as m,e as l,b as s,w as a,o as _,j as w,t as S,E as V,p as C,g as D,_ as I}from"./index-d6e59896.js";import{p as E}from"./units-c5b22a1a.js";const P=b=>(C("data-v-2ee05bac"),b=b(),D(),b),k={class:"permit-page"},A={class:"sig-part"},B={class:"clip-box"},N={class:"b-text"},j=P(()=>l("div",{class:"btn-colorful s-btn"},"copy",-1)),U=v({__name:"index",setup(b){const o=x("globalProperties");console.log("ðŸš€ ~ file: index.vue:47 ~ globalProperties:",o);const e=y({spender:"0x63f0302394f9c144cb3ade3dbb710a278231038a",amount:1,signature:"bebbbebebbbebebbbebebbbebebbbebebbbebebbbebebbbebebbbebebbbebebbbebebbbebebbbebebbbebebbbebebbbebebbbebebbbe"}),g=()=>{V({showClose:!0,message:"Copy Success",type:"success"})},f=async()=>{const p={name:o.domain[1],version:o.domain[2],chainId:o.domain[3],verifyingContract:o.domain[4]},t=await o.contractJYZ.ownerNonce(o.signAddr);console.log("ðŸš€ ~ file: index.vue:56 ~ approve ~ nonce:",t);const i={Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"amount",type:"uint256"},{name:"nonce",type:"uint256"}]},n={owner:o.signAddr,spender:e.spender,amount:E(e.amount.toString()),nonce:t},c=await o.signer.signTypedData(p,i,n);e.signature=c};return(p,t)=>{const i=d("el-input"),n=d("el-form-item"),c=d("el-form"),u=h("clipboard");return _(),m("div",k,[l("div",A,[s(c,{model:e,"label-width":"120px"},{default:a(()=>[s(n,{label:"Spender"},{default:a(()=>[s(i,{modelValue:e.spender,"onUpdate:modelValue":t[0]||(t[0]=r=>e.spender=r)},null,8,["modelValue"])]),_:1}),s(n,{label:"Amount"},{default:a(()=>[s(i,{modelValue:e.amount,"onUpdate:modelValue":t[1]||(t[1]=r=>e.amount=r)},null,8,["modelValue"])]),_:1}),s(n,null,{default:a(()=>[l("div",{class:"btn-colorful",onClick:f},"Signature")]),_:1}),s(n,null,{default:a(()=>[w((_(),m("div",B,[l("span",N,S(e.signature),1),j])),[[u,e.signature],[u,g,"success"]])]),_:1})]),_:1},8,["model"])])])}}});const J=I(U,[["__scopeId","data-v-2ee05bac"]]);export{J as default};
